# 第五章 系统调试
## 5.1 硬件测试
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;硬件测试主要是测试电路板的线路是否连接完好，是否有短路或者断路的情况。
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;对于本系统来说，硬件测试分为以下几步：

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;（1）先把电源部分焊接出来（包括12V转5V电路和5V转3.3V电路），焊接完成后，利用万用表并且对照着原理图测试焊接的线路是否出现短路或者断路的情况，确认没问题后，就可以测试电源的输入输出是否符合系统的要求。

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;（2）接着把STM32最小系统焊接出来，焊接完成后，同第一步一样需要检测线路，检测完成后，还需要结合软件来做STM32最小系统的测试，最后才能完成STM32最小系统的硬件测试。

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;（3）最后再把剩下的电路模块焊接完成，同第一步一样，也需要检测线路，检测完成后，结合相应的软件来对剩下的各个模块做测试。

## 5.2 软件测试

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;对于本系统来说，软件测试主要是做开关量采集和通信测试，串口接收程序测试。

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;（1）开关量采集和通信测试通信测试
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;利用串口助手工具来做测试，由测试可知，能够通过采集到开关量并且能正确的通过串口输出，如图5.1所示。
在图5.1中，选择显示的方式为文本方式，选择波特率为115200，无校验位，1位停止位，点击打开串口后，即可在该串口助手的显示界面上显示从下位机的串口发送过来的数据。

![](/assets/串口打印数据界面.png)

图5.1 串口打印数据界面

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;（2）串口接收程序测试

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;主要测试python脚本能否稳定并且正确的接收从串口来的数据，测试表明python脚本能够接收到从串口来的数据，如图5.2所示。

![](/assets/python脚本实时接收串口数据.png)

图5.2 python脚本实时接收串口数据
## 5.3 系统的组装运行测试

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;将系统的各个部分组装起来，上电后让整个系统运行起来，查看上位机的数据信息，结果如图5.3所示。

![](/assets/系统整体运行效果.png)

图5.3 系统整体运行效果
